<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Playground</title>
  <script src="https://unpkg.com/modern-palette"></script>
</head>
<body>

<img src="/public/example.jpg" style="width: 200px;" />
<canvas width="20" height="20" style="width: 200px;"></canvas>

<script type="module" async>
  const el = document.querySelector('canvas')
  const elContext2d = el.getContext('2d')
  const palette = modernPalette.createPalette({
    maxColors: 400,
  })

  await palette.addSample('/example.jpg')

  // eslint-disable-next-line no-console
  console.time('generate')
  palette.generate()
  // eslint-disable-next-line no-console
  console.timeEnd('generate')

  const colors = palette.getColors('buffer')
  // eslint-disable-next-line no-console
  console.log(colors)
  elContext2d.putImageData(new ImageData(colors, 20, 20), 0, 0)
</script>
</body>
</html>
