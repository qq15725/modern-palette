<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Playground</title>
</head>
<body>

<img src="/example.jpg" style="width: 200px;" />
<canvas style="width: 200px;"></canvas>

<script type="module" async>
  import { createPalette } from '../src'

  const maxColors = 32 * 32
  const size = Math.sqrt(maxColors)
  const el = document.querySelector('canvas')
  const elContext2d = el.getContext('2d')
  el.width = size
  el.height = size

  const palette = createPalette({
    maxColors,
  })

  await palette.addSample('/example.jpg')

  // eslint-disable-next-line no-console
  console.time('generate')
  palette.generate()
  // eslint-disable-next-line no-console
  console.timeEnd('generate')

  const colors = palette.getColors('buffer')
  elContext2d.putImageData(new ImageData(colors, size, size), 0, 0)

  // eslint-disable-next-line no-console
  console.log(palette, palette.getColors('hex'))
</script>
</body>
</html>
