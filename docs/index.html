<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Playground</title>
</head>
<body>

<img src="/example.jpg" style="width: 200px;" />
<canvas style="width: 200px;"></canvas>

<script type="module">
  import { createPalette } from '../src'

  const maxColors = 16 * 16
  const size = Math.sqrt(maxColors)
  const el = document.querySelector('canvas')
  const elContext2d = el.getContext('2d')
  el.width = size
  el.height = size

  const palette = createPalette({
    maxColors,
  })

  palette.addSample('/example.jpg').then(() => {
    // eslint-disable-next-line no-console
    console.time('generate')
    palette.generate()
    // eslint-disable-next-line no-console
    console.timeEnd('generate')

    elContext2d.putImageData(new ImageData(palette.getColors('buffer'), size, size), 0, 0)

    const colors = palette.getColors('hex')

    // eslint-disable-next-line no-console
    console.log(palette, colors)
  })
</script>
</body>
</html>
